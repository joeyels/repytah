

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Search &mdash; repytah  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Search (alt)" href="search_alt.html" />
    <link rel="prev" title="Assemble (alt)" href="assemble_alt.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> repytah
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">Why <cite>repytah</cite></a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p><span class="caption-text">Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities_alt.html">Utilities (alt)</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform.html">Transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform_alt.html">Transform (alt)</a></li>
<li class="toctree-l1"><a class="reference internal" href="assemble.html">Assemble</a></li>
<li class="toctree-l1"><a class="reference internal" href="assemble_alt.html">Assemble (alt)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="search_alt.html">Search (alt)</a></li>
</ul>
<p><span class="caption-text">Implementation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="example_vignette.html">Example of Creating Aligned Hierarchies for a Mazurka Score</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">repytah</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Search</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/search_doc.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="module-repytah.search">
<span id="search"></span><h1>Search<a class="headerlink" href="#module-repytah.search" title="Permalink to this headline">¶</a></h1>
<p>search.py</p>
<p>This module holds functions used to find and record the diagonals in the
thresholded matrix, T. These functions prepare the found diagonals to later
be transformed and assembled.</p>
<p>The module contains the following functions:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>find_complete_list</dt><dd><p>Finds all smaller diagonals (and the associated pairs of repeats)
that are contained in pair_list, which is composed of larger diagonals
found in find_initial_repeats.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>__find_add_rows</dt><dd><p>Finds pairs of repeated structures, represented as diagonals of a
certain length, k, that neither start nor end at the same time steps
as previously found pairs of repeated structures of the same length.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>find_all_repeats</dt><dd><p>Finds all the diagonals present in thresh_mat. This function is nearly
identical to find_initial_repeats, with two crucial differences. First,
we do not remove diagonals after we find them. Second, there is no
smallest bandwidth size as we are looking for all diagonals.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>find_complete_list_anno_only</dt><dd><p>Finds annotations for all pairs of repeats found in find_all_repeats.
This list contains all the pairs of repeated structures with their
start/end indices and lengths.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="py function">
<dt id="repytah.search.__find_add_rows">
<code class="sig-prename descclassname">repytah.search.</code><code class="sig-name descname">__find_add_rows</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lst_no_anno</span></em>, <em class="sig-param"><span class="n">check_inds</span></em>, <em class="sig-param"><span class="n">k</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repytah.search.__find_add_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds pairs of repeated structures, represented as diagonals of a certain
length, k, that that start at the same time steps, or end at the same time
steps, or neither start nor end at the same time steps as previously found
pairs of repeated structures of the same length.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lst_no_anno</strong> (<em>np.ndarray</em>) – List of pairs of repeats.</p></li>
<li><p><strong>check_inds</strong> (<em>np.ndarray</em>) – List of ending indices for repeats of length k that we use to
check lst_no_anno for more repeats of length k.</p></li>
<li><p><strong>k</strong> (<em>int</em>) – Length of repeats that we are looking for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>add_rows</strong> – List of newly found pairs of repeats of length K that are
contained in larger repeats in lst_no_anno.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="repytah.search.find_all_repeats">
<code class="sig-prename descclassname">repytah.search.</code><code class="sig-name descname">find_all_repeats</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">thresh_mat</span></em>, <em class="sig-param"><span class="n">bw_vec</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repytah.search.find_all_repeats" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all the diagonals present in thresh_mat. This function is nearly
identical to find_initial_repeats, with two crucial differences.
First, we do not remove diagonals after we find them. Second,
there is no smallest bandwidth size as we are looking for all diagonals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>thresh_mat</strong> (<em>np.ndarray</em>) – Thresholded matrix that we extract diagonals from.</p></li>
<li><p><strong>bw_vec</strong> (<em>np.ndarray</em>) – Vector of lengths of diagonals to be found.
Should be 1, 2, 3, …, n where n = number of timesteps.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>all_lst</strong> – Pairs of repeats that correspond to diagonals in thresh_mat.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="repytah.search.find_complete_list">
<code class="sig-prename descclassname">repytah.search.</code><code class="sig-name descname">find_complete_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pair_list</span></em>, <em class="sig-param"><span class="n">song_length</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repytah.search.find_complete_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all smaller diagonals (and the associated pairs of repeats) that are
contained pair_list, which is composed of larger diagonals found in
find_initial_repeats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pair_list</strong> (<em>np.ndarray</em>) – List of pairs of repeats found in earlier step
(bandwidths MUST be in ascending order). If you have
run find_initial_repeats before this script,
then pair_list will be ordered correctly.</p></li>
<li><p><strong>song_length</strong> (<em>int</em>) – Song length, which is the number of audio shingles.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>lst_out</strong> – List of pairs of repeats with smaller repeats added.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="repytah.search.find_complete_list_anno_only">
<code class="sig-prename descclassname">repytah.search.</code><code class="sig-name descname">find_complete_list_anno_only</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pair_list</span></em>, <em class="sig-param"><span class="n">song_length</span></em><span class="sig-paren">)</span><a class="headerlink" href="#repytah.search.find_complete_list_anno_only" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds annotations for all pairs of repeats found in find_all_repeats.
This list contains all the pairs of repeated structures with their
start/end indices and lengths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pair_list</strong> (<em>np.ndarray</em>) – List of pairs of repeats.
WARNING: Bandwidths must be in ascending order.</p></li>
<li><p><strong>song_length</strong> (<em>int</em>) – Number of audio shingles in song.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out_lst</strong> – List of pairs of repeats with smaller repeats added and with
annotation markers.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="search_alt.html" class="btn btn-neutral float-right" title="Search (alt)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="assemble_alt.html" class="btn btn-neutral float-left" title="Assemble (alt)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, repytah development team.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>